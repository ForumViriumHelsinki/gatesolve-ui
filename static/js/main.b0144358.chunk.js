(this["webpackJsonpgatesolve-ui"]=this["webpackJsonpgatesolve-ui"]||[]).push([[0],{202:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},203:function(t,e,n){t.exports=n(381)},208:function(t,e,n){},258:function(t,e){},260:function(t,e){},291:function(t,e){},296:function(t,e){},306:function(t,e){},307:function(t,e){},379:function(t,e,n){},381:function(t,e,n){"use strict";n.r(e);var o=n(7),i=n.n(o),a=n(199),r=n.n(a),c=(n(208),n(94)),l=n(15),u=n(78),s=(n(211),{id:"route-line",type:"line",paint:{"line-opacity":.5,"line-width":5}}),d={id:"route-point",type:"circle",paint:{"circle-radius":5,"circle-color":["get","color"]},filter:["==","Point",["geometry-type"]]},p=function(t){var e=t.height,n=void 0===e?"50":e,o=t.style,a=void 0===o?{fill:"#444",stroke:"none"}:o;return i.a.createElement("svg",{height:n,style:a,viewBox:"0 0 15 15"},i.a.createElement("path",{d:"M7.5 0C5.068 0 2.23 1.486 2.23 5.27c0 2.568 4.054 8.244 5.27 9.73c1.081-1.486 5.27-7.027 5.27-9.73C12.77 1.487 9.932 0 7.5 0z"}))},f=function(t){var e=t.longitude,n=t.latitude,o=t.height,a=void 0===o?"50":o,r=t.style,c=void 0===r?{fill:"#444",stroke:"none"}:r;return i.a.createElement(u.b,{latitude:n,longitude:e,offsetLeft:-a/2,offsetTop:-a},i.a.createElement(p,{height:a,style:c}))},g=n(8),m=n.n(g),h=n(201),v=n(63);function y(t){var e=[];return t.legs[0].getSteps().forEach((function(t){e.push([t.startLocation.longitude,t.startLocation.latitude]),e.push([t.stopLocation.longitude,t.stopLocation.latitude])})),e}function w(t,e,n){return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:n},properties:{color:"#000"}},{type:"Feature",geometry:{type:"Point",coordinates:[t[1],t[0]]},properties:{color:"#00f"}},{type:"Feature",geometry:{type:"Point",coordinates:[e[1],e[0]]},properties:{color:"#0f0"}}]}}var E=n(202),b=n.n(E),j=(n(379),[60.17,24.94]),L=[60.18,24.95],k={origin:j,destination:L,route:w(j,L,[]),viewport:{latitude:60.17,longitude:24.94,zoom:14,bearing:0,pitch:0}},O=function(){var t=Object(o.useState)(k),e=Object(l.a)(t,2),n=e[0],a=e[1];return Object(o.useEffect)((function(){!function(t,e,n){var o=new v.FlexibleTransitPlanner;o.query({from:{latitude:t[0],longitude:t[1]},to:{latitude:e[0],longitude:e[1]},roadNetworkOnly:!0}).take(1).on("data",function(){var i=Object(h.a)(m.a.mark((function i(a){var r,c,l;return m.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.completePath(a);case 2:r=i.sent,c=y(r),l=w(t,e,c),n(l);case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}(n.origin,n.destination,(function(t){a((function(e){return n.origin!==e.origin||n.destination!==e.destination?e:Object(c.a)({},e,{route:t})}))}))}),[n.origin,n.destination]),i.a.createElement("div",{"data-testid":"app",className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"})),i.a.createElement(u.d,Object.assign({},n.viewport,{width:"100vw",height:"90vh",mapStyle:"https://raw.githubusercontent.com/HSLdevcom/hsl-map-style/master/simple-style.json",onViewportChange:function(t){return a((function(e){return Object(c.a)({},e,{viewport:t})}))},onClick:function(t){0===t.srcEvent.button&&a((function(e){return Object(c.a)({},e,{destination:[t.lngLat[1],t.lngLat[0]]})}))},onContextMenu:function(t){a((function(e){return Object(c.a)({},e,{origin:[t.lngLat[1],t.lngLat[0]]})})),t.srcEvent.preventDefault()}}),i.a.createElement(u.c,{type:"geojson",data:n.route},i.a.createElement(u.a,s),i.a.createElement(u.a,d)),i.a.createElement(f,{longitude:n.origin[1],latitude:n.origin[0],style:{fill:"#00f"}}),i.a.createElement(f,{longitude:n.destination[1],latitude:n.destination[0],style:{fill:"#0f0"}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.b0144358.chunk.js.map