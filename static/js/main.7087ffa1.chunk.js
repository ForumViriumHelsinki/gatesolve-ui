(this["webpackJsonpgatesolve-ui"]=this["webpackJsonpgatesolve-ui"]||[]).push([[0],{202:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},203:function(t,e,n){t.exports=n(381)},208:function(t,e,n){},258:function(t,e){},260:function(t,e){},291:function(t,e){},296:function(t,e){},306:function(t,e){},307:function(t,e){},379:function(t,e,n){},381:function(t,e,n){"use strict";n.r(e);var o=n(7),i=n.n(o),r=n(199),a=n.n(r),c=(n(208),n(93)),u=n(15),s=n(95),l=(n(211),{id:"route-line",type:"line",paint:{"line-opacity":.5,"line-width":5}}),p={id:"route-point",type:"circle",paint:{"circle-radius":5,"circle-color":["get","color"]},filter:["==","Point",["geometry-type"]]},d=n(8),f=n.n(d),g=n(201),m=n(63);function h(t){var e=[];return t.legs[0].getSteps().forEach((function(t){e.push([t.startLocation.longitude,t.startLocation.latitude]),e.push([t.stopLocation.longitude,t.stopLocation.latitude])})),e}function v(t,e,n){return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:n},properties:{color:"#000"}},{type:"Feature",geometry:{type:"Point",coordinates:[t[1],t[0]]},properties:{color:"#00f"}},{type:"Feature",geometry:{type:"Point",coordinates:[e[1],e[0]]},properties:{color:"#0f0"}}]}}var y=n(202),w=n.n(y),b=(n(379),[60.17,24.94]),E=[60.18,24.95],j={origin:b,destination:E,route:v(b,E,[]),viewport:{latitude:60.17,longitude:24.94,zoom:14,bearing:0,pitch:0}},L=function(){var t=Object(o.useState)(j),e=Object(u.a)(t,2),n=e[0],r=e[1];return Object(o.useEffect)((function(){!function(t,e,n){var o=new m.FlexibleTransitPlanner;o.query({from:{latitude:t[0],longitude:t[1]},to:{latitude:e[0],longitude:e[1]},roadNetworkOnly:!0}).take(1).on("data",function(){var i=Object(g.a)(f.a.mark((function i(r){var a,c,u;return f.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.completePath(r);case 2:a=i.sent,c=h(a),u=v(t,e,c),n(u);case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}())}(n.origin,n.destination,(function(t){r((function(e){return n.origin!==e.origin||n.destination!==e.destination?e:Object(c.a)({},e,{route:t})}))}))}),[n.origin,n.destination]),i.a.createElement("div",{"data-testid":"app",className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:w.a,className:"App-logo",alt:"logo"})),i.a.createElement(s.c,Object.assign({},n.viewport,{width:"100vw",height:"90vh",mapStyle:"https://raw.githubusercontent.com/HSLdevcom/hsl-map-style/master/simple-style.json",onViewportChange:function(t){return r((function(e){return Object(c.a)({},e,{viewport:t})}))},onClick:function(t){0===t.srcEvent.button&&r((function(e){return Object(c.a)({},e,{destination:[t.lngLat[1],t.lngLat[0]]})}))},onContextMenu:function(t){r((function(e){return Object(c.a)({},e,{origin:[t.lngLat[1],t.lngLat[0]]})})),t.srcEvent.preventDefault()}}),i.a.createElement(s.b,{type:"geojson",data:n.route},i.a.createElement(s.a,l),i.a.createElement(s.a,p))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.7087ffa1.chunk.js.map